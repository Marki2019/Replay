$ease-out-quad: cubic-bezier(0.25, 0.46, 0.45, 0.94);
$backdrop_transition: 200ms ease-out;
$button_transition: all 200ms $ease-out-quad;

$_sizevariant: 'default';
$_img_btn_pad: if($_sizevariant == 'default', 5px, 2px);

headerbar.red-style {
    border-color: $alt_borders_color;

    @include headerbar_fill(darken($bg_color, 10%));

    &:backdrop {
        border-color: $backdrop_borders_color;
        background-color: $bg_color;
        background-image: none;
        box-shadow: inset 0 1px $top_hilight;
    }

    label {
        color: $fg_color;

        &:backdrop {
            color: $backdrop_fg_color;
        }
    }

    > button {
        @at-root %button_basic, & {
            @include button(normal);

            @at-root %button_basic_flat,
            &.flat {
                @include button(undecorated);

                transition: none;

                &:hover {
                    transition: $button_transition;
                    transition-duration: 500ms;

                    &:active {
                        transition: $button_transition;
                    }
                }
            }

            &:hover {
                @include button(hover);
                -gtk-icon-effect: highlight;
            }

            &:active,
            &:checked {
                @include button(active);
            }

            &:backdrop {
                @include button(backdrop);

                -gtk-icon-effect: none;

                &:active,
                &:checked {
                    @include button(backdrop-active);
                }

                &:disabled {
                    @include button(backdrop-insensitive);

                    &:active,
                    &:checked {
                        @include button(backdrop-insensitive-active);
                    }
                }
            }

            &:disabled {
                @include button(insensitive);

                &:active,
                &:checked {
                    @include button(insensitive-active);
                }
            }

            &.image-button {
                min-width: 24px;
                padding-left: $_img_btn_pad;
                padding-right: $_img_btn_pad;
            }
        }
    }

    button.titlebutton {
        @extend %button_basic;

        @include button(undecorated);

        transition:none;

        @include _button_text_shadow;

        &:hover {
            transition: $button_transition;
            transition-duration: 500ms;

            &:active {
                transition: $button_transition;
            }
        }

        &:backdrop {
            -gtk-icon-shadow: none;
        }
    }

    hdyviewswitcher > button {
        @extend %button_basic;

        @include button(undecorated);
    }

    window.devel & {
        $c: darken($bg_color, 10%);
        $gradient: cross-fade(16% -gtk-icontheme("system-run-symbolic"), image(transparent)) 90% 0/256px 256px no-repeat,
                   linear-gradient(to right, transparent 65%, transparentize(white, 0.9)),
                   linear-gradient(to top, lighten($c, 4%), lighten($c, 6%));

        background: $c $gradient;
    }
}

